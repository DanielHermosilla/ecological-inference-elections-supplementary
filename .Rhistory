analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 5)
analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 1)
}
analyze_mcmc_multiple(num_ballots = 100, num_candidates = 5, num_groups = 5, seed = 23)
analyze_mcmc_multiple <- function(num_ballots, num_candidates, num_groups, seed = 0) {
cat("\n\nB =", num_ballots, "\tC =", num_candidates, "\tG =", num_groups, "\n")
sim_eim = simulate_election(num_ballots = num_ballots, num_candidates = num_candidates, num_groups = G, seed = seed)
print(sim_eim$real_prob)
analyze_mcmc(sim_eim, method = "mult")
analyze_mcmc(sim_eim, method = "mcmc")
analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 20)
analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 10)
analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 5)
analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 1)
}
analyze_mcmc_multiple <- function(num_ballots, num_candidates, num_groups, seed = 0) {
cat("\n\nB =", num_ballots, "\tC =", num_candidates, "\tG =", num_groups, "\n")
sim_eim = simulate_election(num_ballots = num_ballots, num_candidates = num_candidates, num_groups = G, seed = seed)
print(sim_eim$real_prob)
analyze_mcmc(sim_eim, method = "mult")
analyze_mcmc(sim_eim, method = "mcmc")
analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 20)
analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 10)
# analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 5)
# analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 1)
}
analyze_mcmc_multiple(num_ballots = 100, num_candidates = 4, num_groups = 2, seed = 0)
analyze_mcmc_multiple(num_ballots = 100, num_candidates = 3, num_groups = 3, seed = 0)
analyze_mcmc_multiple(num_ballots = 100, num_candidates = 5, num_groups = 5, seed = 23)
analyze_mcmc_multiple(num_ballots = 100, num_candidates = 5, num_groups = 5, seed = 24)
analyze_mcmc_multiple(num_ballots = 100, num_candidates = 3, num_groups = 4, seed = 0)
analyze_mcmc <- function(eim_object_sim, method, metropolis_iter = 0, verbose = FALSE, maxiter = 1000) {
d = run_em(object = eim_object_sim, method = method, param_threshold = 0.0001,
metropolis_iter = metropolis_iter, maxiter = maxiter, verbose = verbose)
# cat(sprintf("\tmethod = %s   metropolis_iter = %d\n", method, metropolis_iter))
cat(sprintf("\tmethod = %s%s\n",
method,
if (metropolis_iter > 0) sprintf("   metropolis_iter = %d", metropolis_iter) else ""))
cat(sprintf("\t\tMAE prob = %.3f\n", mean(abs(d$prob - d$real_prob))))
cat(sprintf("\t\tMAE voto = %.3f\n", mean(abs(d$expected_outcome - d$outcome))))
cat(sprintf("\t\tTiempo = %.2f\n", d$time))
cat(sprintf("\t\tIterations = %d\n", d$iterations))
}
# samples an election and analyze this with multiple mcmc verions
analyze_mcmc_multiple <- function(num_ballots, num_candidates, num_groups, seed = 0) {
cat("\n\nB =", num_ballots, "\tC =", num_candidates, "\tG =", num_groups, "\n")
sim_eim = simulate_election(num_ballots = num_ballots, num_candidates = num_candidates, num_groups = G, seed = seed)
print(sim_eim$real_prob)
analyze_mcmc(sim_eim, method = "mult")
analyze_mcmc(sim_eim, method = "mcmc")
analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 20)
# analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 10)
# analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 5)
analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 1, maxiter = 50)
}
analyze_mcmc_multiple(num_ballots = 100, num_candidates = 5, num_groups = 5, seed = 24)
analyze_mcmc_multiple(num_ballots = 100, num_candidates = 3, num_groups = 3, seed = 0)
devtools::install_github("DanielHermosilla/ecological-inference-elections")
devtools::install_github("DanielHermosilla/ecological-inference-elections")
library("fastei")
# analyze a simulated election with a single mcmc version
analyze_mcmc <- function(eim_object_sim, method, metropolis_iter = 0, verbose = FALSE, maxiter = 1000) {
d = run_em(object = eim_object_sim, method = method, param_threshold = 0.0001,
metropolis_iter = metropolis_iter, maxiter = maxiter, verbose = verbose)
# cat(sprintf("\tmethod = %s   metropolis_iter = %d\n", method, metropolis_iter))
cat(sprintf("\tmethod = %s%s\n",
method,
if (metropolis_iter > 0) sprintf("   metropolis_iter = %d", metropolis_iter) else ""))
cat(sprintf("\t\tMAE prob = %.3f\n", mean(abs(d$prob - d$real_prob))))
cat(sprintf("\t\tMAE voto = %.3f\n", mean(abs(d$expected_outcome - d$outcome))))
cat(sprintf("\t\tTiempo = %.2f\n", d$time))
cat(sprintf("\t\tIterations = %d\n", d$iterations))
}
# samples an election and analyze this with multiple mcmc verions
analyze_mcmc_multiple <- function(num_ballots, num_candidates, num_groups, seed = 0) {
cat("\n\nB =", num_ballots, "\tC =", num_candidates, "\tG =", num_groups, "\n")
sim_eim = simulate_election(num_ballots = num_ballots, num_candidates = num_candidates, num_groups = G, seed = seed)
print(sim_eim$real_prob)
analyze_mcmc(sim_eim, method = "mult")
analyze_mcmc(sim_eim, method = "mcmc")
analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 20)
# analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 10)
# analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 5)
analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 1, maxiter = 50)
}
analyze_mcmc_multiple(num_ballots = 100, num_candidates = 2, num_groups = 2, seed = 0)
analyze_mcmc_multiple(num_ballots = 100, num_candidates = 3, num_groups = 3, seed = 0)
devtools::install_github("DanielHermosilla/ecological-inference-elections")
c$W[1,]
library("fastei")
analyze_mcmc_multiple(num_ballots = 100, num_candidates = 3, num_groups = 3, seed = 0)
source("~/MIT Dropbox/Charles Thraves/Research/SERVEL/Mesas Outlier 2/Codigos/Libreria_R/test_libreria_2.R")
devtools::install_github("DanielHermosilla/ecological-inference-elections")
library("fastei")
devtools::install_github("DanielHermosilla/ecological-inference-elections")
library("fastei")
analyze_mcmc_multiple(num_ballots = 100, num_candidates = 3, num_groups = 3, seed = 0)
devtools::install_github("DanielHermosilla/ecological-inference-elections")
library("fastei")
analyze_mcmc_multiple(num_ballots = 100, num_candidates = 3, num_groups = 3, seed = 0)
devtools::install_github("DanielHermosilla/ecological-inference-elections")
library("fastei")
analyze_mcmc_multiple(num_ballots = 100, num_candidates = 3, num_groups = 3, seed = 0)
analyze_mcmc_multiple(num_ballots = 100, num_candidates = 5, num_groups = 5, seed = 24)
analyze_mcmc_multiple(num_ballots = 100, num_candidates = 12, num_groups = 12, seed = 0)
analyze_mcmc <- function(eim_object_sim, method, metropolis_iter = 0, verbose = FALSE, maxiter = 1000) {
d = run_em(object = eim_object_sim, method = method, param_threshold = 0.0001,
metropolis_iter = metropolis_iter, maxiter = maxiter, verbose = verbose)
# cat(sprintf("\tmethod = %s   metropolis_iter = %d\n", method, metropolis_iter))
cat(sprintf("\tmethod = %s%s\n",
method,
if (metropolis_iter > 0) sprintf("   metropolis_iter = %d", metropolis_iter) else ""))
cat(sprintf("\t\tMAE prob = %.3f\n", mean(abs(d$prob - d$real_prob))))
cat(sprintf("\t\tMAE voto = %.3f\n", mean(abs(d$expected_outcome - d$outcome))))
cat(sprintf("\t\tTiempo = %.2f\n", d$time))
cat(sprintf("\t\tIterations = %d\n", d$iterations))
}
# samples an election and analyze this with multiple mcmc verions
analyze_mcmc_multiple <- function(num_ballots, num_candidates, num_groups, seed = 0, verbose = FALSE) {
cat("\n\nB =", num_ballots, "\tC =", num_candidates, "\tG =", num_groups, "\n")
sim_eim = simulate_election(num_ballots = num_ballots, num_candidates = num_candidates, num_groups = num_groups, seed = seed)
print(sim_eim$real_prob)
analyze_mcmc(sim_eim, method = "mult")
analyze_mcmc(sim_eim, method = "mcmc")
analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 20, verbose = verbose)
# analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 10)
# analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 5)
analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 1, maxiter = 50)
}
analyze_mcmc_multiple(num_ballots = 100, num_candidates = 3, num_groups = 3, seed = 0, verbose = T)
devtools::install_github("DanielHermosilla/ecological-inference-elections")
library("fastei")
analyze_mcmc_multiple(num_ballots = 100, num_candidates = 3, num_groups = 3, seed = 0, verbose = T)
devtools::install_github("DanielHermosilla/ecological-inference-elections")
library("fastei")
analyze_mcmc <- function(eim_object_sim, method, metropolis_iter = 0, verbose = FALSE, maxiter = 1000) {
d = run_em(object = eim_object_sim, method = method, param_threshold = 0.0001,
metropolis_iter = metropolis_iter, maxiter = maxiter, verbose = verbose)
# cat(sprintf("\tmethod = %s   metropolis_iter = %d\n", method, metropolis_iter))
cat(sprintf("\tmethod = %s%s\n",
method,
if (metropolis_iter > 0) sprintf("   metropolis_iter = %d", metropolis_iter) else ""))
cat(sprintf("\t\tMAE prob = %.3f\n", mean(abs(d$prob - d$real_prob))))
cat(sprintf("\t\tMAE voto = %.3f\n", mean(abs(d$expected_outcome - d$outcome))))
cat(sprintf("\t\tTiempo = %.2f\n", d$time))
cat(sprintf("\t\tIterations = %d\n", d$iterations))
}
# samples an election and analyze this with multiple mcmc verions
analyze_mcmc_multiple <- function(num_ballots, num_candidates, num_groups, seed = 0, verbose = FALSE) {
cat("\n\nB =", num_ballots, "\tC =", num_candidates, "\tG =", num_groups, "\n")
sim_eim = simulate_election(num_ballots = num_ballots, num_candidates = num_candidates, num_groups = num_groups, seed = seed)
print(sim_eim$real_prob)
analyze_mcmc(sim_eim, method = "mult")
analyze_mcmc(sim_eim, method = "mcmc")
analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 20, verbose = verbose)
# analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 10)
# analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 5)
analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 1, maxiter = 50)
}
analyze_mcmc_multiple(num_ballots = 100, num_candidates = 3, num_groups = 3, seed = 0, verbose = F)
analyze_mcmc_multiple(num_ballots = 100, num_candidates = 3, num_groups = 3, seed = 0, verbose = T)
devtools::install_github("DanielHermosilla/ecological-inference-elections")
devtools::install_github("DanielHermosilla/ecological-inference-elections")
devtools::install_github("DanielHermosilla/ecological-inference-elections")
devtools::install_github("DanielHermosilla/ecological-inference-elections", force = TRUE)
library("fastei")
analyze_mcmc <- function(eim_object_sim, method, metropolis_iter = 0, verbose = FALSE, maxiter = 1000) {
d = run_em(object = eim_object_sim, method = method, param_threshold = 0.0001,
metropolis_iter = metropolis_iter, maxiter = maxiter, verbose = verbose)
# cat(sprintf("\tmethod = %s   metropolis_iter = %d\n", method, metropolis_iter))
cat(sprintf("\tmethod = %s%s\n",
method,
if (metropolis_iter > 0) sprintf("   metropolis_iter = %d", metropolis_iter) else ""))
cat(sprintf("\t\tMAE prob = %.3f\n", mean(abs(d$prob - d$real_prob))))
cat(sprintf("\t\tMAE voto = %.3f\n", mean(abs(d$expected_outcome - d$outcome))))
cat(sprintf("\t\tTiempo = %.2f\n", d$time))
cat(sprintf("\t\tIterations = %d\n", d$iterations))
}
# samples an election and analyze this with multiple mcmc verions
analyze_mcmc_multiple <- function(num_ballots, num_candidates, num_groups, seed = 0, verbose = FALSE) {
cat("\n\nB =", num_ballots, "\tC =", num_candidates, "\tG =", num_groups, "\n")
sim_eim = simulate_election(num_ballots = num_ballots, num_candidates = num_candidates, num_groups = num_groups, seed = seed)
print(sim_eim$real_prob)
analyze_mcmc(sim_eim, method = "mult")
analyze_mcmc(sim_eim, method = "mcmc")
analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 20, verbose = verbose)
# analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 10)
# analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 5)
analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 1, maxiter = 50)
}
analyze_mcmc_multiple(num_ballots = 100, num_candidates = 3, num_groups = 3, seed = 0, verbose = T)
analyze_mcmc_multiple(num_ballots = 100, num_candidates = 3, num_groups = 3, seed = 0, verbose = T)
analyze_mcmc_multiple <- function(num_ballots, num_candidates, num_groups, seed = 0, verbose = FALSE) {
cat("\n\nB =", num_ballots, "\tC =", num_candidates, "\tG =", num_groups, "\n")
sim_eim = simulate_election(num_ballots = num_ballots, num_candidates = num_candidates, num_groups = num_groups, seed = seed)
print(sim_eim$real_prob)
analyze_mcmc(sim_eim, method = "mult")
analyze_mcmc(sim_eim, method = "mcmc")
# analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 20, verbose = verbose)
analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 10)
# analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 5)
analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 1, maxiter = 50)
}
analyze_mcmc_multiple(num_ballots = 100, num_candidates = 3, num_groups = 3, seed = 0, verbose = T)
analyze_mcmc_multiple <- function(num_ballots, num_candidates, num_groups, seed = 0, verbose = FALSE) {
cat("\n\nB =", num_ballots, "\tC =", num_candidates, "\tG =", num_groups, "\n")
sim_eim = simulate_election(num_ballots = num_ballots, num_candidates = num_candidates, num_groups = num_groups, seed = seed)
print(sim_eim$real_prob)
analyze_mcmc(sim_eim, method = "mult")
analyze_mcmc(sim_eim, method = "mcmc")
# analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 20, verbose = verbose)
analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 10, verbose = verbose)
# analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 5)
analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 1, maxiter = 50)
}
analyze_mcmc_multiple(num_ballots = 100, num_candidates = 3, num_groups = 3, seed = 0, verbose = T)
analyze_mcmc_multiple <- function(num_ballots, num_candidates, num_groups, seed = 0, maxiter = 1000, verbose = FALSE) {
cat("\n\nB =", num_ballots, "\tC =", num_candidates, "\tG =", num_groups, "\n")
sim_eim = simulate_election(num_ballots = num_ballots, num_candidates = num_candidates, num_groups = num_groups, seed = seed)
print(sim_eim$real_prob)
analyze_mcmc(sim_eim, method = "mult")
analyze_mcmc(sim_eim, method = "mcmc")
# analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 20, verbose = verbose, maxiter = maxiter)
analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 10, verbose = verbose, maxiter = maxiter)
# analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 5)
analyze_mcmc(sim_eim, method = "metropolis", metropolis_iter = 1, maxiter = 50)
}
analyze_mcmc_multiple(num_ballots = 100, num_candidates = 3, num_groups = 3, seed = 0, maxiter = 130, verbose = T)
analyze_mcmc_multiple(num_ballots = 100, num_candidates = 3, num_groups = 3, seed = 0, maxiter = 40, verbose = T)
source("~/MIT Dropbox/Charles Thraves/Research/SERVEL/Mesas Outlier 2/Codigos/Libreria_R/test_libreria_2.R")
?run_em
?run_em
run_em?
sdc
library(fastei)
library(jsonlite)     # to save a named list as a json file
library(dplyr)
library(ei.Datasets)  # load voting datasets
library(lphom)        # benchmark library
library(microbenchmark)        # measure time
?stopifnot
# generates the data for simulated instances
source("src/R_functions.R")
setwd("~/MIT Dropbox/Charles Thraves/Research/SERVEL/Mesas Outlier 2/Paper/JRSS/code/src")
setwd("~/MIT Dropbox/Charles Thraves/Research/SERVEL/Mesas Outlier 2/Paper/JRSS/code")
# generates the data for simulated instances
source("src/R_functions.R")
setwd("~/MIT Dropbox/Charles Thraves/Research/SERVEL/Mesas Outlier 2/Paper/JRSS/code")
# function that runs simulated instances obtaining estimated parameters and time
fun_run_simulated_instances <- function() {
run_simulated_instances(
# method_arr = c("mcmc","mvn_cdf","mvn_pdf","mult", "exact", "nslphom_dual_w", "lphom", "lclphom"),
method_arr = c("mcmc",
"mvn_cdf",
"mvn_pdf",
"mult",
"nslphom_dual_w",
"lphom",
"lclphom"), # todos sin exact
mcmc_samples_arr = c(100,1000),
I_arr = c(100),
B_arr = c(50),
C_arr = c(2,3,4,5,10),
G_arr = c(2,3,4,6,8),
lambda_arr = c(0.5),
seed_arr = 1:20,            # seed for the generated instance
seed_initial_arr = c(NULL), # seed for the initial p of the EM
maxtime = 3600,
skip_cases = TRUE)
}
fun_run_simulated_instances()
# generates the data for simulated instances
source("src/R_functions.R")
setwd("~/MIT Dropbox/Charles Thraves/Research/SERVEL/Mesas Outlier 2/Paper/JRSS/code")
# function that runs simulated instances obtaining estimated parameters and time
fun_run_simulated_instances <- function() {
run_simulated_instances(
# method_arr = c("mcmc","mvn_cdf","mvn_pdf","mult", "exact", "nslphom_dual_w", "lphom", "lclphom"),
method_arr = c("mcmc",
"mvn_cdf",
"mvn_pdf",
"mult",
"nslphom_dual_w",
"lphom",
"lclphom"), # todos sin exact
mcmc_samples_arr = c(100,1000),
I_arr = c(100),
B_arr = c(50),
C_arr = c(2,3,4,5,10),
G_arr = c(2,3,4,6,8),
lambda_arr = c(0.5),
seed_arr = 1:20,            # seed for the generated instance
seed_initial_arr = c(NULL), # seed for the initial p of the EM
maxtime = 3600,
skip_cases = TRUE)
}
fun_run_simulated_instances()
# generates the data for simulated instances
source("src/R_functions.R")
setwd("~/MIT Dropbox/Charles Thraves/Research/SERVEL/Mesas Outlier 2/Paper/JRSS/code")
# function that runs simulated instances obtaining estimated parameters and time
fun_run_simulated_instances <- function() {
run_simulated_instances(
# method_arr = c("mcmc","mvn_cdf","mvn_pdf","mult", "exact", "nslphom_dual_w", "lphom", "lclphom"),
method_arr = c("mcmc",
"mvn_cdf",
"mvn_pdf",
"mult",
"nslphom_dual_w",
"lphom",
"lclphom"), # todos sin exact
mcmc_samples_arr = c(100,1000),
I_arr = c(100),
B_arr = c(50),
C_arr = c(2,3,4,5,10),
G_arr = c(2,3,4,6,8),
lambda_arr = c(0.5),
seed_arr = 1:20,            # seed for the generated instance
seed_initial_arr = c(NULL), # seed for the initial p of the EM
maxtime = 3600,
skip_cases = TRUE)
}
fun_run_simulated_instances()
# generates the data for simulated instances
source("src/R_functions.R")
setwd("~/MIT Dropbox/Charles Thraves/Research/SERVEL/Mesas Outlier 2/Paper/JRSS/code")
# function that runs simulated instances obtaining estimated parameters and time
fun_run_simulated_instances <- function() {
run_simulated_instances(
# method_arr = c("mcmc","mvn_cdf","mvn_pdf","mult", "exact", "nslphom_dual_w", "lphom", "lclphom"),
method_arr = c("mcmc",
"mvn_cdf",
"mvn_pdf",
"mult",
"nslphom_dual_w",
"lphom",
"lclphom"), # todos sin exact
mcmc_samples_arr = c(100,1000),
I_arr = c(100),
B_arr = c(50),
C_arr = c(2,3,4,5,10),
G_arr = c(2,3,4,6,8),
lambda_arr = c(0.5),
seed_arr = 1:20,            # seed for the generated instance
seed_initial_arr = c(NULL), # seed for the initial p of the EM
maxtime = 3600,
skip_cases = TRUE)
}
fun_run_simulated_instances()
# generates the data for simulated instances
source("src/R_functions.R")
setwd("~/MIT Dropbox/Charles Thraves/Research/SERVEL/Mesas Outlier 2/Paper/JRSS/code")
# function that runs simulated instances obtaining estimated parameters and time
fun_run_simulated_instances <- function() {
run_simulated_instances(
# method_arr = c("mcmc","mvn_cdf","mvn_pdf","mult", "exact", "nslphom_dual_w", "lphom", "lclphom"),
method_arr = c("mcmc",
"mvn_cdf",
"mvn_pdf",
"mult",
"nslphom_dual_w",
"lphom",
"lclphom"), # todos sin exact
mcmc_samples_arr = c(100,1000),
I_arr = c(100),
B_arr = c(50),
C_arr = c(2,3,4,5,10),
G_arr = c(2,3,4,6,8),
lambda_arr = c(0.5),
seed_arr = 1:20,            # seed for the generated instance
seed_initial_arr = c(NULL), # seed for the initial p of the EM
maxtime = 3600,
skip_cases = TRUE)
}
fun_run_simulated_instances()
# generates the data for simulated instances
source("src/R_functions.R")
setwd("~/MIT Dropbox/Charles Thraves/Research/SERVEL/Mesas Outlier 2/Paper/JRSS/code")
# function that runs simulated instances obtaining estimated parameters and time
fun_run_simulated_instances <- function() {
run_simulated_instances(
# method_arr = c("mcmc","mvn_cdf","mvn_pdf","mult", "exact", "nslphom_dual_w", "lphom", "lclphom"),
method_arr = c("mcmc",
"mvn_cdf",
"mvn_pdf",
"mult",
"nslphom_dual_w",
"lphom",
"lclphom"), # todos sin exact
mcmc_samples_arr = c(100,1000),
I_arr = c(100),
B_arr = c(50),
C_arr = c(2,3,4,5,10),
G_arr = c(2,3,4,6,8),
lambda_arr = c(0.5),
seed_arr = 1:20,            # seed for the generated instance
seed_initial_arr = c(NULL), # seed for the initial p of the EM
maxtime = 3600,
skip_cases = TRUE)
}
fun_run_simulated_instances()
# generates the data for simulated instances
source("src/R_functions.R")
setwd("~/MIT Dropbox/Charles Thraves/Research/SERVEL/Mesas Outlier 2/Paper/JRSS/code")
# function that runs simulated instances obtaining estimated parameters and time
fun_run_simulated_instances <- function() {
run_simulated_instances(
# method_arr = c("mcmc","mvn_cdf","mvn_pdf","mult", "exact", "nslphom_dual_w", "lphom", "lclphom"),
method_arr = c("mcmc",
"mvn_cdf",
"mvn_pdf",
"mult",
"nslphom_dual_w",
"lphom",
"lclphom"), # todos sin exact
mcmc_samples_arr = c(100,1000),
I_arr = c(100),
B_arr = c(50),
C_arr = c(2,3,4,5,10),
G_arr = c(2,3,4,6,8),
lambda_arr = c(0.5),
seed_arr = 1:20,            # seed for the generated instance
seed_initial_arr = c(NULL), # seed for the initial p of the EM
maxtime = 3600,
skip_cases = TRUE)
}
fun_run_simulated_instances()
# generates the data for simulated instances
source("src/R_functions.R")
setwd("~/MIT Dropbox/Charles Thraves/Research/SERVEL/Mesas Outlier 2/Paper/JRSS/code")
# function that runs simulated instances obtaining estimated parameters and time
fun_run_simulated_instances <- function() {
run_simulated_instances(
# method_arr = c("mcmc","mvn_cdf","mvn_pdf","mult", "exact", "nslphom_dual_w", "lphom", "lclphom"),
method_arr = c("mcmc",
"mvn_cdf",
"mvn_pdf",
"mult",
"nslphom_dual_w",
"lphom",
"lclphom"), # todos sin exact
mcmc_samples_arr = c(100,1000),
I_arr = c(100),
B_arr = c(50),
C_arr = c(2,3,4,5,10),
G_arr = c(2,3,4,6,8),
lambda_arr = c(0.5),
seed_arr = 1:20,            # seed for the generated instance
seed_initial_arr = c(NULL), # seed for the initial p of the EM
maxtime = 3600,
skip_cases = TRUE)
}
fun_run_simulated_instances()
# generates the data for simulated instances
source("src/R_functions.R")
setwd("~/MIT Dropbox/Charles Thraves/Research/SERVEL/Mesas Outlier 2/Paper/JRSS/code")
# function that runs simulated instances obtaining estimated parameters and time
fun_run_simulated_instances <- function() {
run_simulated_instances(
# method_arr = c("mcmc","mvn_cdf","mvn_pdf","mult", "exact", "nslphom_dual_w", "lphom", "lclphom"),
method_arr = c("mcmc",
"mvn_cdf",
"mvn_pdf",
"mult",
"nslphom_dual_w",
"lphom",
"lclphom"), # todos sin exact
mcmc_samples_arr = c(100,1000),
I_arr = c(100),
B_arr = c(50),
C_arr = c(2,3,4,5,10),
G_arr = c(2,3,4,6,8),
lambda_arr = c(0.5),
seed_arr = 1:20,            # seed for the generated instance
seed_initial_arr = c(NULL), # seed for the initial p of the EM
maxtime = 3600,
skip_cases = TRUE)
}
fun_run_simulated_instances()
# generates the data for simulated instances
source("src/R_functions.R")
setwd("~/MIT Dropbox/Charles Thraves/Research/SERVEL/Mesas Outlier 2/Paper/JRSS/code")
# function that runs simulated instances obtaining estimated parameters and time
fun_run_simulated_instances <- function() {
run_simulated_instances(
# method_arr = c("mcmc","mvn_cdf","mvn_pdf","mult", "exact", "nslphom_dual_w", "lphom", "lclphom"),
method_arr = c("mcmc",
"mvn_cdf",
"mvn_pdf",
"mult",
"nslphom_dual_w",
"lphom",
"lclphom"), # todos sin exact
mcmc_samples_arr = c(100,1000),
I_arr = c(100),
B_arr = c(50),
C_arr = c(2,3,4,5,10),
G_arr = c(2,3,4,6,8),
lambda_arr = c(0.5),
seed_arr = 1:20,            # seed for the generated instance
seed_initial_arr = c(NULL), # seed for the initial p of the EM
maxtime = 3600,
skip_cases = TRUE)
}
fun_run_simulated_instances()
B = 50; C = 2; G = 3; I = 100; seed  =1; lambda = 0.5; method = "mult"
instance = simulate_election(num_ballots = B,
num_candidates = C,
num_groups = G,
ballot_voters = rep(I, B),
seed = seed,
lambda = lambda)
